/*! jquery.formyeah - v0.1.0 - 2014-01-11
* https://github.com/artpolikarpov/jquery.formyeah
* Copyright (c) 2014 Artem Polikarpov; Licensed MIT */
!function(a,b){function c(a,b){return(b?b+".":"")+h+".#"+a.attr("id")}function d(a,c){var d=a.match(i);return d&&d[1]===(c||b)&&d[2]}function e(a){var b=a.attr("type");return"radio"===b||"checkbox"===b}function f(b,d){b.each(function(){delete g[c(a(this),d)]})}var g=window.localStorage||{setItem:a.noop,getItem:a.noop},h="formyeah",i=new RegExp("^(?:(.+)\\.)?"+h+"\\.(.+)");a.fn.formyeah=function(){var b=arguments[0],h=a.extend({emptyStorageOnSubmitAndReset:!0,pageIdentifier:[location.pathname,location.search,location.hash].join("")},arguments[1]||"object"==typeof b&&b);return this.each(function(){var i=a(this),j=':input[id]:not([data-recover="false"]):not([type="password"])',k=a(j,i),l=i.data(),m=a.extend({},h,l);return"emptyStorage"===b?(f(k,m.pageIdentifier),void 0):(l.formyeahInitialized||(l.formyeahInitialized=!0,a.each(g,function(b,c){var f=a(d(b,m.pageIdentifier)).filter(j);f.length&&(e(f)?f.attr("checked","true"===c):c&&f.val(c.split(",")))}),i.on("input change",j,function(){var b,d=a(this),f=[];if(e(d)){if(b=d.is(":checked"),"radio"===d.attr("type")&&b){var h=d.parents("form");a('input[type="radio"][name="'+d.attr("name")+'"]',h.length&&h).not(d).each(function(){f.push({$field:a(this),value:!1})})}}else b=d.val();f.push({$field:d,value:b}),a.each(f,function(a,b){g.setItem(c(b.$field,m.pageIdentifier),b.value)})}),k.change(),m.emptyStorageOnSubmitAndReset&&i.on("submit reset",function(){f(k,m.pageIdentifier)})),void 0)})},a(function(){a("."+h).formyeah()})}(jQuery);